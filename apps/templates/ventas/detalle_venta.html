{% extends 'base/base.html' %}
{% load static %}
{% load humanize %}
{% load custom_filters %}
{% block title %}Detalle de venta{% endblock title %}

{% block content %}

<div class="card" style="width: 100%;">
    <div class="card-body">
        <h2 class="card-title">Detalle de venta</h2>
        <a href="{% url 'ventas:ventas' %}" class="card-link mb-3">Volver a la lista de ventas</a>
        <div class="row"><!-- INICIO DE LA FILA -->
            <div class="col-md-8 mt-3"><!-- INICIO PRIMERA COLUMNA -->
                <div class="table-responsive p-0"><!-- INICIO DE TABLA -->
                    <table class="table table-hover text-nowrap" id="tablaProductos" border="1">
                        <thead class="table-head-color">
                            <tr>
                                <th class="text-center" style="color: white;">Producto</th>
                                <th class="text-center" style="color: white;width: 7%">Cantidad</th>
                                <th class="text-center" style="color: white;">Precio Unitario</th>
                                <th class="text-center" style="color: white;">Total Detalle</th>
                                <th class="text-center" style="color: white;width: 7%">IVA 10</th>
                                <th class="text-center" style="color: white;width: 7%">IVA 5</th>
                            </tr>
                        </thead>
                        <tbody class="text-center">
                            {% for detalle in detalle_venta %}
                            <tr>
                                <td>{{ detalle.id_producto.nombre }}</td>
                                <td>{{ detalle.cantidad_producto|punto_comma }}</td>
                                <td>{{ detalle.id_producto.precio_actual|punto_comma }}</td>
                                <td>{{ detalle.total_detalle|punto_comma }}</td>
                                <td>{{ detalle.total_iva_10|punto_comma }}</td>
                                <td>{{ detalle.total_iva_5|punto_comma }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div><!-- FIN DE TABLA -->
            </div> <!-- FIN PRIMERA COLUMNA -->
            <div class="col-md-3 card"><!-- INICIO DE SEGUNDA COLUMNA -->
                <div class="vstack gap-2"> <!-- INICIO DE PILA DE DATOS -->
                    <div class="p-2">
                        <label class="card-title" for="cliente">Cliente</label>
                        <input class="form-control" type="text" name="id_cliente" id="id_cliente"
                            value="{{ venta.id_cliente.nombre }}" readonly>
                    </div>
                    <div class="p-2">
                        <label class="card-title" for="total_venta">Total venta:</label>
                        <input class="form-control" type="text" name="total_venta" id="total_venta"
                            value="{{ venta.total_venta|punto_comma }}" readonly>
                    </div>
                    <div class="p-2">
                        <label class="card-title" for="total_iva_10">Total IVA 10:</label>
                        <input class="form-control" type="text" name="total_iva_10" id="total_iva_10"
                            value="{{ venta.total_iva_10|punto_comma }}" readonly>
                    </div>
                    <div class="p-2">
                        <label class="card-title" for="total_iva_5">Total IVA 5:</label>
                        <input class="form-control" type="text" name="total_iva_5" id="total_iva_5"
                            value="{{ venta.total_iva_5|punto_comma }}" readonly>
                    </div>

                </div><!-- FIN DE PILA DE DATOS -->
            </div><!-- FIN DE SEGUNDA COLUMNA -->
        </div><!-- FIN DE LA FILA -->
    </div>
</div>

{% endblock content %}